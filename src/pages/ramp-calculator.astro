---
import BaseLayout from "../layouts/BaseLayout.astro";

const metaTitle = "Ramp Calculator | Ramp Slope Ratio Calculator | TrueAssist Technology";
const metaDescription =
  "Ramp calculator to size wheelchair ramps using slope ratios. Calculate ramp length, incline angle, and find safe ramp options from TrueAssist Technology.";
---

<BaseLayout title={metaTitle} description={metaDescription}>
  <section class="two-col">
    <div class="col calc-col" aria-labelledby="calc-title">
      <section id="ramp-calculator" class="calc-card" aria-label="Ramp calculator">
        <h2 id="calc-title">Ramp Calculator – Find the Ideal Ramp Length</h2>

        <label for="stepHeight">Step Height:</label>
        <input type="number" id="stepHeight" placeholder="e.g. 6" />

        <label for="unit" style="margin-top:12px; display:block;">Unit:</label>
        <select id="unit">
          <option value="in">Inches (default)</option>
          <option value="cm">Centimeters</option>
          <option value="mm">Millimeters</option>
          <option value="m">Meters</option>
        </select>

        <label for="slopeRatio" style="margin-top:12px; display:block;">Choose or Enter Slope Ratio:</label>
        <select id="slopeRatio">
          <option value="12">1:12 - Manual Wheelchair</option>
          <option value="10">1:10 - Elderly / Walkers</option>
          <option value="8">1:8 - Powered Wheelchair</option>
          <option value="6">1:6 - Assistant Pushed</option>
          <option value="4">1:4 - Trolley / Vehicle Ramp</option>
          <option value="custom">Custom</option>
        </select>

        <input type="number" id="customRatio" placeholder="Enter custom ratio (e.g. 14)" style="width:100%; padding:8px; margin-top:6px; display:none;" />

        <button onclick="calculateRamp()" class="calc-btn">Calculate</button>

        <div id="result" class="calc-result" aria-live="polite"></div>
      </section>

      <script is:inline>
function convertToInches(value, unit) {
  switch (unit) {
    case "cm":
      return value / 2.54;
    case "mm":
      return value / 25.4;
    case "m":
      return value * 39.37;
    default:
      return value;
  }
}

const ratioSelect = document.getElementById("slopeRatio");
const customRatioInput = document.getElementById("customRatio");

ratioSelect.addEventListener("change", function () {
  const showCustom = this.value === "custom";
  customRatioInput.style.display = showCustom ? "block" : "none";
});

function calculateRamp() {
  const inputValue = parseFloat(document.getElementById("stepHeight").value);
  const unit = document.getElementById("unit").value;
  const ratioValue = ratioSelect.value;
  const customRatio = parseFloat(customRatioInput.value);
  const resultDiv = document.getElementById("result");

  if (!inputValue || inputValue <= 0) {
    resultDiv.innerHTML = "<span style='color:red;'>Please enter a valid step height.</span>";
    return;
  }

  const slopeRatio = ratioValue === "custom" ? customRatio : parseFloat(ratioValue);
  if (!slopeRatio || slopeRatio <= 0) {
    resultDiv.innerHTML = "<span style='color:red;'>Please enter a valid slope ratio.</span>";
    return;
  }

  const heightInInches = convertToInches(inputValue, unit);
  const rampLengthInInches = heightInInches * slopeRatio;
  const rampLengthFeet = rampLengthInInches / 12;
  const rampLengthFeetRounded = rampLengthFeet.toFixed(2);
  const rampLengthMeters = (rampLengthInInches * 0.0254).toFixed(2);
  const angle = (Math.atan(heightInInches / rampLengthInInches) * (180 / Math.PI)).toFixed(1);

  let message = `
    <strong>Recommended Ramp Length:</strong> ${rampLengthFeetRounded} ft (${rampLengthMeters} m)<br />
    <strong>Incline Angle:</strong> ${angle} degrees<br />
    <strong>Used Slope Ratio:</strong> 1:${slopeRatio}
  `;

  if (rampLengthFeet > 6) {
    message += "<br><span style='color:orange;'>Note: Portable ramps can be max 6 ft. Longer ramps may be unsafe or unusable.</span>";
  } else {
    message += `
      <br><strong>Recommended Ramps from TrueAssist:</strong><br />
      <a href="https://shop.trueassistech.com/products/ramplus-portable-suitcase-ramps?sku_id=48125157" target="_blank">RamPlus – Suitcase Ramp</a><br />
      <a href="https://shop.trueassistech.com/products/ramplus-portable-split-ramps?sku_id=60319935" target="_blank">RamPlus – Split Ramps</a><br />
      <a href="https://shop.trueassistech.com/products/ramplus-threshold-ramp?sku_id=60319954" target="_blank">RamPlus – Threshold Ramp</a><br />
      <a href="https://shop.trueassistech.com/products/roller-ramps-imported?sku_id=60319972" target="_blank">Roller Ramps – Imported</a>
    `;
  }

  resultDiv.innerHTML = message;
}
      </script>
    </div>

    <div class="col content-col" aria-label="Ramp calculator guidance">
      <article class="content">
        <h2>What is a Ramp &amp; Why Use a Ramp Calculator</h2>
        <p>
          A ramp provides a smooth, safer path for wheelchairs, walkers, and trolleys. A ramp calculator ensures the ramp
          slope ratio you choose is comfortable and compliant. Using a ramp calculator or ramp slope ratio calculator
          helps you avoid overly steep inclines that can cause strain or safety risks.
        </p>

        <h3>How to Use the Ramp Calculator (step by step)</h3>
        <ul>
          <li>Enter the step height in inches, centimeters, millimeters, or meters.</li>
          <li>Select a recommended ramp ratio such as 1:12 for a wheelchair ramp slope calculator.</li>
          <li>Use the custom ramp ratio calculator option if you follow a different code or site constraint.</li>
          <li>Click Calculate to see ramp length in feet and meters plus incline angle.</li>
          <li>Review the safe portable ramp guidance if the length exceeds 6 ft.</li>
        </ul>

        <h3>Ramp Length Formula and Slope Ratio Explanation</h3>
        <p>
          The ramp length formula is simple: <strong>Run = Rise x Ratio</strong>. If your step is 6 inches and you choose
          a 1:12 slope ratio, the required run is 72 inches (6 ft). The slope calculator for ramp uses this formula to
          show the result instantly.
        </p>
        <ul>
          <li><strong>1:12</strong> (manual wheelchair): gentle, ADA-aligned baseline.</li>
          <li><strong>1:10</strong> (walkers/elderly): moderate slope for short rises.</li>
          <li><strong>1:8</strong> (powered wheelchair): steeper but manageable for powered devices.</li>
          <li><strong>1:6</strong> (assistant pushed): only for very short rises under supervision.</li>
          <li><strong>1:4</strong> (trolley/vehicle): non-wheelchair contexts where traction is high.</li>
        </ul>

        <h3>Incline Angle Calculation</h3>
        <p>
          The ramp slope calculator also shows the incline angle using the arctangent of rise divided by run. Lower angles
          mean smoother access. Most wheelchair ramp slope calculator results keep angles under 5 degrees for comfort.
        </p>

        <h3>Standard Guidelines (ADA, CPWD, WHO, UK)</h3>
        <ul>
          <li><strong>ADA (US):</strong> 1:12 for accessible routes; landings every 30 ft of run.</li>
          <li><strong>CPWD (India):</strong> common guidance aligns to 1:12; handrails and kerbs recommended.</li>
          <li><strong>WHO:</strong> promotes gentle slopes (around 1:12) for universal access.</li>
          <li><strong>UK (Approved Document M):</strong> typically 1:12 up to short rises; requires rest landings.</li>
        </ul>

        <h3>Safety Notes and Recommendations</h3>
        <ul>
          <li>Keep surfaces non-slip and clear of debris or moisture.</li>
          <li>Use edge protection or kerbs to prevent wheels from slipping off.</li>
          <li>Provide handrails for users who walk with support.</li>
          <li>Check doorway thresholds; add threshold ramps where needed.</li>
          <li>Follow weight and length limits: portable ramps are often safest under 6 ft.</li>
        </ul>

        <h3>Conclusion</h3>
        <p>
          A precise ramp ratio calculator helps you design safer access for every user. Use this ramp slope calculator to
          size ramps correctly, verify incline angles, and choose the right TrueAssist ramp products for lasting mobility
          and accessibility.
        </p>
      </article>
    </div>
  </section>
</BaseLayout>

<style>
  .two-col {
    display: grid;
    grid-template-columns: 2fr 3fr;
    gap: 1.25rem;
    align-items: start;
  }

  .col {
    width: 100%;
  }

  .calc-card {
    width: 100%;
    padding: 20px;
    background: #f9f9f9;
    border-radius: 12px;
    border: 1px solid #818385;
    display: grid;
    gap: 0.6rem;
  }

  .calc-card h2 {
    text-align: center;
    color: #451e5d;
    margin: 0 0 0.4rem;
  }

  .calc-card input,
  .calc-card select {
    width: 100%;
    padding: 8px;
    border: 1px solid #818385;
    border-radius: 6px;
    font: inherit;
  }

  .calc-btn {
    margin-top: 0.6rem;
    padding: 10px 16px;
    background-color: #451e5d;
    color: white;
    border: none;
    border-radius: 6px;
    font-weight: 700;
    cursor: pointer;
  }

  .calc-btn:hover {
    opacity: 0.95;
  }

  .calc-result {
    margin-top: 0.75rem;
    font-size: 15px;
    line-height: 1.5;
  }

  .content {
    background: #fff;
    border: 1px solid #818385;
    border-radius: 12px;
    padding: 1.25rem;
    display: grid;
    gap: 1rem;
  }

  .content h2,
  .content h3 {
    color: #451e5d;
    margin: 0;
  }

  .content ul {
    list-style: disc;
    padding-left: 1.2rem;
    margin: 0.35rem 0 0;
  }

  .content li {
    margin: 0.15rem 0;
  }

  .brand-block {
    display: none;
  }

  .brand-inner h2 {
    color: #451e5d;
  }

  .brand-copy {
    margin: 0;
    color: #444;
    font-weight: 600;
  }

  @media (max-width: 900px) {
    .two-col {
      grid-template-columns: 1fr;
    }
  }

  @media (max-width: 640px) {
    .hero,
    .content,
    .calc-card {
      padding: 1rem;
    }
  }
</style>
